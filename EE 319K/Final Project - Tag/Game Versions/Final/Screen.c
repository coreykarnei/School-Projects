#include "tm4c123gh6pm.h"
#include "ST7735.h"
#include "Player.h"
#include "Screen.h"
#include "Bitmaps.h"

// 8x8 tiles
const unsigned short tileX[] = {
 0x0000, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0x0000, 0xFFFF, 0x0000, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0x0000, 0xFFFF,
 0xFFFF, 0xFFFF, 0x0000, 0xFFFF, 0xFFFF, 0x0000, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0x0000, 0x0000, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0x0000, 0x0000, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0x0000, 0xFFFF, 0xFFFF, 0x0000, 0xFFFF, 0xFFFF,
 0xFFFF, 0x0000, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0x0000, 0xFFFF, 0x0000, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0x0000,
};

const unsigned short tileO[] = {
 0xFFFF, 0xFFFF, 0x0000, 0x0000, 0x0000, 0x0000, 0xFFFF, 0xFFFF, 0xFFFF, 0x0000, 0x0000, 0xFFFF, 0xFFFF, 0x0000, 0x0000, 0xFFFF,
 0x0000, 0x0000, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0x0000, 0x0000, 0x0000, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0x0000,
 0x0000, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0x0000, 0x0000, 0x0000, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0x0000, 0x0000,
 0xFFFF, 0x0000, 0x0000, 0xFFFF, 0xFFFF, 0x0000, 0x0000, 0xFFFF, 0xFFFF, 0xFFFF, 0x0000, 0x0000, 0x0000, 0x0000, 0xFFFF, 0xFFFF,
};

const unsigned short tileWhite[] = {
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
};
const unsigned short tileBlack[] = {
 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
};
// 16x16 tiles from here on
const unsigned short dirt[] = {
 0x4B72, 0x3AAF, 0x5C37, 0x4B72, 0x4B72, 0x3AAF, 0x8430, 0x4B72, 0x4B72, 0x4B72, 0x3AAF, 0x3AAF, 0x4B72, 0x4B72, 0x3AAF, 0x29EB,
 0x4B72, 0x3AAF, 0x29EB, 0x5C37, 0x3AAF, 0x29EB, 0x3AAF, 0x29EB, 0x3AAF, 0x3AAF, 0x3AAF, 0x29EB, 0x3AAF, 0x3AAF, 0x4B72, 0x4B72,
 0x3AAF, 0x4B72, 0x3AAF, 0x3AAF, 0x42CE, 0x3AAF, 0x4B72, 0x4B72, 0x3AAF, 0x29EB, 0x5C37, 0x29EB, 0x3AAF, 0x5C37, 0x4B72, 0x4B72,
 0x3AAF, 0x29EB, 0x4B72, 0x3AAF, 0x4B72, 0x4B72, 0x5C37, 0x3AAF, 0x3AAF, 0x3AAF, 0x3AAF, 0x3AAF, 0x3AAF, 0x3AAF, 0x5C37, 0x5C37,
 0x4B72, 0x3AAF, 0x3AAF, 0x4B72, 0x4B72, 0x5C37, 0x3AAF, 0x4B72, 0x6B6D, 0x4B72, 0x4B72, 0x3AAF, 0x29EB, 0x4B72, 0x3AAF, 0x29EB,
 0x4B72, 0x4B72, 0x3AAF, 0x5C37, 0x5C37, 0x3AAF, 0x5C37, 0x4B72, 0x29EB, 0x5C37, 0x5C37, 0x3AAF, 0x4B72, 0x4B72, 0x8430, 0x3AAF,
 0x4B72, 0x4B72, 0x29EB, 0x3AAF, 0x3AAF, 0x29EB, 0x29EB, 0x3AAF, 0x3AAF, 0x3AAF, 0x3AAF, 0x3AAF, 0x5C37, 0x5C37, 0x3AAF, 0x4B72,
 0x4B72, 0x3AAF, 0x3AAF, 0x4B72, 0x3AAF, 0x4B72, 0x3AAF, 0x29EB, 0x3AAF, 0x4B72, 0x4B72, 0x3AAF, 0x3AAF, 0x3AAF, 0x29EB, 0x3AAF,
 0x5C37, 0x3AAF, 0x5C37, 0x5C37, 0x4B72, 0x4B72, 0x3AAF, 0x3AAF, 0x4B72, 0x29EB, 0x4B72, 0x4B72, 0x3AAF, 0x3AAF, 0x4B72, 0x4B72,
 0x5C37, 0x29EB, 0x3AAF, 0x3AAF, 0x8430, 0x3AAF, 0x3AAF, 0x5C37, 0x5C37, 0x3AAF, 0x5C37, 0x5C37, 0x3AAF, 0x4B72, 0x3AAF, 0x4B72,
 0x3AAF, 0x29EB, 0x4B72, 0x4B72, 0x3AAF, 0x4B72, 0x29EB, 0x29EB, 0x29EB, 0x3AAF, 0x3AAF, 0x29EB, 0x3AAF, 0x3AAF, 0x3AAF, 0x5C37,
 0x4B72, 0x3AAF, 0x4B72, 0x5C37, 0x29EB, 0x4B72, 0x3AAF, 0x3AAF, 0x4B72, 0x29EB, 0x3AAF, 0x6B6D, 0x3AAF, 0x4B72, 0x29EB, 0x3AAF,
 0x4B72, 0x6B6D, 0x5C37, 0x3AAF, 0x4B72, 0x29EB, 0x3AAF, 0x5C37, 0x4B72, 0x4B72, 0x3AAF, 0x4B72, 0x3AAF, 0x5C37, 0x4B72, 0x3AAF,
 0x5C37, 0x3AAF, 0x3AAF, 0x29EB, 0x5C37, 0x3AAF, 0x3AAF, 0x3AAF, 0x5C37, 0x3AAF, 0x3AAF, 0x3AAF, 0x29EB, 0x29EB, 0x5C37, 0x3AAF,
 0x3AAF, 0x4B72, 0x29EB, 0x3AAF, 0x3AAF, 0x4B72, 0x8430, 0x29EB, 0x3AAF, 0x5C37, 0x4B72, 0x3AAF, 0x3AAF, 0x4B72, 0x29EB, 0x29EB,
 0x5C37, 0x4B72, 0x4B72, 0x3AAF, 0x3AAF, 0x5C37, 0x4B72, 0x4B72, 0x3AAF, 0x3AAF, 0x29EB, 0x3AAF, 0x3AAF, 0x5C37, 0x3AAF, 0x5C37,};

 const unsigned short grass[] = {
 0x5E44, 0xB7B9, 0x5E44, 0x1526, 0x5E44, 0xB7B9, 0x5E44, 0x5E44, 0x5E44, 0xB7B9, 0x14A6, 0x5E44, 0x1526, 0x5E44, 0xB7B9, 0x5E44,
 0x5E44, 0xB7B9, 0x5E44, 0x1526, 0x5E44, 0xB7B9, 0x5E44, 0x5E44, 0xB7B9, 0x14A6, 0xB7B9, 0x5E44, 0xB7B9, 0x5E44, 0xB7B9, 0x5E44,
 0x5E44, 0xB7B9, 0x5E44, 0x14A6, 0xB7B9, 0x5E44, 0xB7B9, 0x1526, 0x5E44, 0xB7B9, 0x5E44, 0xB7B9, 0x5E44, 0xB7B9, 0x5E44, 0x5E44,
 0x14A6, 0xB7B9, 0x5E44, 0xB7B9, 0x1526, 0x5E44, 0xB7B9, 0x14A6, 0x1526, 0xB7B9, 0x5E44, 0xB7B9, 0x5E44, 0x1526, 0x5E44, 0x1526,
 0x1526, 0x5E44, 0xB7B9, 0x5E44, 0x1526, 0x5E44, 0xB7B9, 0x5E44, 0xB7B9, 0x1526, 0x5E44, 0xB7B9, 0x1526, 0x5E44, 0xB7B9, 0x1526,
 0x1526, 0x5E44, 0x5E44, 0xB7B9, 0x5E44, 0xB7B9, 0x5E44, 0xB7B9, 0x5E44, 0x1526, 0xB7B9, 0x1526, 0x14A6, 0x5E44, 0x14A6, 0xB7B9,
 0xB7B9, 0x5E44, 0x1526, 0xB7B9, 0x14A6, 0xB7B9, 0x5E44, 0xB7B9, 0x14A6, 0x5E44, 0xB7B9, 0x5E44, 0x5E44, 0xB7B9, 0x5E44, 0x5E44,
 0xB7B9, 0x5E44, 0x14A6, 0xB7B9, 0x14A6, 0xB7B9, 0x5E44, 0xB7B9, 0x5E44, 0xB7B9, 0x5E44, 0xB7B9, 0x5E44, 0xB7B9, 0x5E44, 0x14A6,
 0x5E44, 0x1526, 0xB7B9, 0x5E44, 0xB7B9, 0x5E44, 0x14A6, 0xB7B9, 0x1526, 0xB7B9, 0x1526, 0x5E44, 0xB7B9, 0x5E44, 0xB7B9, 0x14A6,
 0x5E44, 0x1526, 0xB7B9, 0x5E44, 0xB7B9, 0x1526, 0xB7B9, 0x1526, 0x14A6, 0xB7B9, 0x1526, 0x5E44, 0xB7B9, 0x1526, 0x5E44, 0x14A6,
 0x14A6, 0xB7B9, 0x5E44, 0xB7B9, 0x5E44, 0x1526, 0xB7B9, 0x5E44, 0x1526, 0xB7B9, 0x5E44, 0x1526, 0xB7B9, 0x5E44, 0x1526, 0x5E44,
 0x5E44, 0xB7B9, 0x5E44, 0xB7B9, 0x5E44, 0x14A6, 0xB7B9, 0x14A6, 0x5E44, 0x5E44, 0xB7B9, 0x5E44, 0x1526, 0xB7B9, 0x5E44, 0x1526,
 0x1526, 0x5E44, 0xB7B9, 0x14A6, 0x5E44, 0xB7B9, 0xB7B9, 0x5E44, 0x1526, 0xB7B9, 0x1526, 0xB7B9, 0x5E44, 0xB7B9, 0x1526, 0x14A6,
 0x1526, 0x5E44, 0xB7B9, 0x1526, 0xB7B9, 0x5E44, 0x5E44, 0x1526, 0xB7B9, 0x5E44, 0x1526, 0x5E44, 0xB7B9, 0xB7B9, 0x1526, 0x5E44,
 0x5E44, 0xB7B9, 0x1526, 0x5E44, 0xB7B9, 0xB7B9, 0x5E44, 0x1526, 0xB7B9, 0x5E44, 0x14A6, 0x5E44, 0xB7B9, 0x14A6, 0x5E44, 0xB7B9,
 0x5E44, 0x5E44, 0xB7B9, 0xB7B9, 0x5E44, 0x5E44, 0x7795, 0x5E44, 0x1526, 0xB7B9, 0xB7B9, 0x5E44, 0x1526, 0x1526, 0x5E44, 0xB7B9,};

 const unsigned short sand[] = {
 0x9639, 0xA6BB, 0x9639, 0x9639, 0xD7FF, 0xA6BB, 0x9639, 0xB73E, 0xA6BB, 0xB73E, 0x9639, 0x9639, 0x9639, 0xA6BB, 0x9639, 0x9639,
 0xA6BB, 0xA6BB, 0x9639, 0x9639, 0xA6BB, 0x9639, 0xA6BB, 0xA6BB, 0x9639, 0xA6BB, 0x9639, 0x9639, 0xA6BB, 0x9639, 0x9639, 0xA6BB,
 0xD7FF, 0xA6BB, 0x9639, 0x9639, 0x9639, 0x9639, 0x9639, 0xB73E, 0xA6BB, 0xB73E, 0xA6BB, 0xA6BB, 0xA6BB, 0x9639, 0xA6BB, 0x9639,
 0xB73E, 0xA6BB, 0x9639, 0xB73E, 0xA6BB, 0x9639, 0xA6BB, 0x9639, 0x9639, 0xA6BB, 0xA6BB, 0x9639, 0xA6BB, 0xA6BB, 0x9639, 0x9639,
 0x9639, 0xA6BB, 0xA6BB, 0x9639, 0xA6BB, 0x9639, 0xA6BB, 0xA6BB, 0xA6BB, 0xA6BB, 0xA6BB, 0xD7FF, 0x9639, 0x9639, 0x9639, 0x9639,
 0xA6BB, 0xA6BB, 0x9639, 0xA6BB, 0x9639, 0xB73E, 0xA6BB, 0xA6BB, 0xB73E, 0xB73E, 0xA6BB, 0x9639, 0xA6BB, 0x9639, 0x9639, 0xA6BB,
 0x9639, 0x9639, 0xA6BB, 0xA6BB, 0xA6BB, 0xA6BB, 0xA6BB, 0x9639, 0xA6BB, 0xA6BB, 0xA6BB, 0xB73E, 0xA6BB, 0xA6BB, 0x9639, 0xB73E,
 0xA6BB, 0xA6BB, 0xB73E, 0xA6BB, 0xA6BB, 0x9639, 0xA6BB, 0xA6BB, 0xB73E, 0xD7FF, 0x9639, 0xA6BB, 0x9639, 0xA6BB, 0x9639, 0xA6BB,
 0xA6BB, 0x9639, 0xA6BB, 0xA6BB, 0xA6BB, 0x9639, 0xA6BB, 0xD7FF, 0xA6BB, 0x9639, 0x9639, 0x9639, 0xA6BB, 0xA6BB, 0x9639, 0xA6BB,
 0x9639, 0xA6BB, 0x9639, 0xA6BB, 0x9639, 0xA6BB, 0xA6BB, 0x9639, 0x9639, 0x9639, 0xA6BB, 0xD7FF, 0xA6BB, 0xA6BB, 0xA6BB, 0xA6BB,
 0x9639, 0xA6BB, 0x9639, 0xD7FF, 0x9639, 0xB73E, 0xA6BB, 0xA6BB, 0x9639, 0xB73E, 0xA6BB, 0x9639, 0x9639, 0x9639, 0xA6BB, 0x9639,
 0xA6BB, 0x9639, 0xA6BB, 0x9639, 0xA6BB, 0xA6BB, 0xA6BB, 0xA6BB, 0xA6BB, 0x9639, 0x9639, 0xA6BB, 0x9639, 0x9639, 0xA6BB, 0x9639,
 0x9639, 0x9639, 0xA6BB, 0xA6BB, 0x9639, 0xA6BB, 0x9639, 0x9639, 0x9639, 0x9639, 0xA6BB, 0xA6BB, 0xA6BB, 0xA6BB, 0xA6BB, 0x9639,
 0xA6BB, 0xB73E, 0xB73E, 0x9639, 0xA6BB, 0x9639, 0xA6BB, 0xA6BB, 0xA6BB, 0xA6BB, 0xA6BB, 0xA6BB, 0x9639, 0x9639, 0x9639, 0xB73E,
 0xA6BB, 0xA6BB, 0xA6BB, 0xA6BB, 0x9639, 0x9639, 0x9639, 0x9639, 0x9639, 0xA6BB, 0xD7FF, 0xA6BB, 0x9639, 0xA6BB, 0x9639, 0xB73E,
 0x9639, 0xA6BB, 0xA6BB, 0xA6BB, 0x9639, 0xA6BB, 0x9639, 0xA6BB, 0xA6BB, 0xA6BB, 0xA6BB, 0x9639, 0x9639, 0x9639, 0x9639, 0xA6BB,};
 
 const unsigned short stone[] = {
 0x73AE, 0x73AE, 0x73AE, 0x73AE, 0x6B4D, 0x8C71, 0x8C71, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x73AE, 0x73AE, 0x73AE, 0x7BEF, 0x7BEF,
 0x7BEF, 0x7BEF, 0x7BEF, 0x73AE, 0x73AE, 0x73AE, 0x73AE, 0x73AE, 0x7BEF, 0x7BEF, 0x8C71, 0x8C71, 0x7BEF, 0x73AE, 0x73AE, 0x7BEF,
 0x7BEF, 0x8C71, 0x73AE, 0x8C71, 0x6B4D, 0x7BEF, 0x7BEF, 0x73AE, 0x73AE, 0x73AE, 0x6B4D, 0x73AE, 0x7BEF, 0x7BEF, 0x8C71, 0x8C71,
 0x7BEF, 0x73AE, 0x73AE, 0x73AE, 0x73AE, 0x73AE, 0x73AE, 0x73AE, 0x8C71, 0x8C71, 0x73AE, 0x73AE, 0x73AE, 0x73AE, 0x73AE, 0x7BEF,
 0x6B4D, 0x7BEF, 0x7BEF, 0x7BEF, 0x73AE, 0x7BEF, 0x7BEF, 0x7BEF, 0x8C71, 0x8C71, 0x7BEF, 0x7BEF, 0x7BEF, 0x8C71, 0x8C71, 0x6B4D,
 0x7BEF, 0x7BEF, 0x8C71, 0x73AE, 0x73AE, 0x8C71, 0x8C71, 0x73AE, 0x6B4D, 0x73AE, 0x8C71, 0x8C71, 0x8C71, 0x7BEF, 0x7BEF, 0x7BEF,
 0x7BEF, 0x73AE, 0x73AE, 0x73AE, 0x73AE, 0x73AE, 0x73AE, 0x7BEF, 0x6B4D, 0x7BEF, 0x7BEF, 0x73AE, 0x73AE, 0x73AE, 0x8C71, 0x7BEF,
 0x7BEF, 0x8C71, 0x8C71, 0x6B4D, 0x8C71, 0x73AE, 0x7BEF, 0x7BEF, 0x7BEF, 0x8C71, 0x8C71, 0x8C71, 0x8C71, 0x8C71, 0x8C71, 0x8C71,
 0x7BEF, 0x7BEF, 0x7BEF, 0x73AE, 0x73AE, 0x73AE, 0x73AE, 0x73AE, 0x73AE, 0x6B4D, 0x73AE, 0x73AE, 0x73AE, 0x73AE, 0x7BEF, 0x7BEF,
 0x8C71, 0x8C71, 0x7BEF, 0x7BEF, 0x7BEF, 0x73AE, 0x8C71, 0x8C71, 0x7BEF, 0x7BEF, 0x7BEF, 0x7BEF, 0x8C71, 0x8C71, 0x8C71, 0x6B4D,
 0x73AE, 0x73AE, 0x7BEF, 0x7BEF, 0x7BEF, 0x73AE, 0x73AE, 0x73AE, 0x7BEF, 0x6B4D, 0x7BEF, 0x7BEF, 0x73AE, 0x73AE, 0x6B4D, 0x7BEF,
 0x7BEF, 0x8C71, 0x8C71, 0x73AE, 0x73AE, 0x73AE, 0x73AE, 0x73AE, 0x73AE, 0x73AE, 0x8C71, 0x8C71, 0x8C71, 0x8C71, 0x8C71, 0x6B4D,
 0x7BEF, 0x8C71, 0x7BEF, 0x7BEF, 0x7BEF, 0x6B4D, 0x7BEF, 0x8C71, 0x7BEF, 0x7BEF, 0x73AE, 0x73AE, 0x73AE, 0x73AE, 0x73AE, 0x7BEF,
 0x7BEF, 0x6B4D, 0x73AE, 0x73AE, 0x6B4D, 0x73AE, 0x73AE, 0x73AE, 0x8C71, 0x73AE, 0x7BEF, 0x7BEF, 0x7BEF, 0x8C71, 0x7BEF, 0x7BEF,
 0x7BEF, 0x7BEF, 0x8C71, 0x8C71, 0x8C71, 0x8C71, 0x8C71, 0x8C71, 0x73AE, 0x8C71, 0x8C71, 0x8C71, 0x6B4D, 0x7BEF, 0x7BEF, 0x73AE,
 0x7BEF, 0x73AE, 0x73AE, 0x73AE, 0x73AE, 0x7BEF, 0x8C71, 0x8C71, 0x6B4D, 0x8C71, 0x7BEF, 0x73AE, 0x73AE, 0x73AE, 0x73AE, 0x7BEF,};
 
 const unsigned short water[] = {
 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xDBC6, 0xDBC6, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385,
 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xDBC6, 0xDBC6, 0xDBC6, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385,
 0xD385, 0xD385, 0xD385, 0xDBC6, 0xDBC6, 0xDBC6, 0xDBC6, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385,
 0xD385, 0xDBC6, 0xDBC6, 0xDBC6, 0xDBC6, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385,
 0xD385, 0xDBC6, 0xDBC6, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385,
 0xDBC6, 0xDBC6, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385,
 0xDBC6, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xDBC6,
 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xDBC6, 0xDBC6,
 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xDBC6, 0xDBC6, 0xDBC6, 0xD385,
 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xDBC6, 0xDBC6, 0xDBC6, 0xD385, 0xD385, 0xD385,
 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xDBC6, 0xDBC6, 0xDBC6, 0xDBC6, 0xD385, 0xD385, 0xD385, 0xD385,
 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xDBC6, 0xDBC6, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385,
 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xDBC6, 0xDBC6, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385,
 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xDBC6, 0xDBC6, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385,
 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xDBC6, 0xDBC6, 0xDBC6, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385,
 0xD385, 0xDBC6, 0xDBC6, 0xDBC6, 0xDBC6, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385, 0xD385,};
 
 const unsigned short wall[] = {
 0x528A, 0x6B6D, 0x6B4D, 0x6B4D, 0x6B4C, 0x6B2C, 0x6B4D, 0x630C, 0x630C, 0x62EB, 0x62EB, 0x5AEB, 0x630C, 0x5AEB, 0x5ACB, 0x528A,
 0x5ACB, 0x7BCF, 0x8C71, 0x8C71, 0x8C71, 0x7BCF, 0x5AEC, 0x7BCF, 0x9471, 0x8C71, 0x8C71, 0x7BCF, 0x4A69, 0x8C51, 0x8C71, 0x5ACB,
 0x6B6D, 0xBDD7, 0xF79E, 0xEF7D, 0xEF7D, 0xBDD7, 0x73AE, 0xBDD7, 0xF79E, 0xF79D, 0xEF7D, 0xBDD7, 0x4A49, 0xDEFB, 0xEF7D, 0x6B6D,
 0x6B6D, 0xBDF7, 0xF7BE, 0xF7BE, 0xF79E, 0xBDF7, 0x7BCF, 0xBDF7, 0xF7BE, 0xF7BE, 0xF79E, 0xBDF7, 0x4A69, 0xE73C, 0xF79E, 0x6B6D,
 0x738E, 0xC618, 0xFFDF, 0xFFDE, 0xF7BE, 0xC618, 0x7BCF, 0xC618, 0xFFDF, 0xFFDF, 0xF7BE, 0xC618, 0x528A, 0xEF5D, 0xFFDF, 0x738E,
 0x5ACB, 0x7BCF, 0x8C51, 0x8C51, 0x8C30, 0x7BCF, 0x632C, 0x7BCF, 0x8410, 0x8410, 0x8410, 0x7BCF, 0x528A, 0x7BCF, 0x7BEF, 0x5ACB,
 0x630C, 0xBDB6, 0xBDB6, 0x8430, 0xBDB6, 0xE73C, 0xE71C, 0xE6FB, 0xBDB6, 0x5AEB, 0xBDB6, 0xE73C, 0xE71C, 0xE6FB, 0xBDB6, 0x630C,
 0x6B6D, 0xF79D, 0xF79D, 0x9CF3, 0xC618, 0xF7BE, 0xF79E, 0xEF7D, 0xC618, 0x630C, 0xC618, 0xF7BE, 0xF79E, 0xEF7D, 0xC618, 0x6B6D,
 0x6B6D, 0xF7BE, 0xF7BE, 0xA514, 0xC638, 0xFFDF, 0xF7BE, 0xF79E, 0xC638, 0x630C, 0xC638, 0xFFDF, 0xF7BE, 0xF79E, 0xC638, 0x6B6D,
 0x6B6D, 0xFFDF, 0xFFDF, 0xA514, 0xAD75, 0xD69A, 0xD69A, 0xCE79, 0xAD75, 0x6B2C, 0xAD75, 0xD69A, 0xD69A, 0xCE79, 0xAD75, 0x6B6D,
 0x528A, 0x6B6D, 0x6B4D, 0x6B4D, 0x6B4C, 0x6B2C, 0x6B4D, 0x630C, 0x630C, 0x62EB, 0x62EB, 0x5AEB, 0x630C, 0x5AEB, 0x5ACB, 0x528A,
 0x6B4D, 0xBDB6, 0xE73C, 0xE71C, 0xE6FB, 0xBDB6, 0x8C30, 0xBDB6, 0xE73C, 0xE71C, 0xE6FB, 0xBDB6, 0x630C, 0xD6BA, 0xDEFB, 0x6B4D,
 0x6B6D, 0xC618, 0xF7BE, 0xF79E, 0xEF7D, 0xC618, 0x8C51, 0xC618, 0xF7BE, 0xF79E, 0xEF7D, 0xC618, 0x630C, 0xE73C, 0xF79E, 0x6B6D,
 0x6B6D, 0xC638, 0xFFDF, 0xF7BE, 0xF79E, 0xC638, 0x9471, 0xC638, 0xFFDF, 0xF7BE, 0xF79E, 0xC638, 0x632C, 0xEF5D, 0xF7BE, 0x6B6D,
 0x6B4D, 0xAD75, 0xD69A, 0xD69A, 0xCE79, 0xAD75, 0x8410, 0xAD75, 0xD69A, 0xD69A, 0xCE79, 0xAD75, 0x632C, 0xCE59, 0xD69A, 0x6B4D,
 0x528A, 0x6B6D, 0x6B4D, 0x6B4D, 0x6B4C, 0x6B2C, 0x6B4D, 0x630C, 0x630C, 0x62EB, 0x62EB, 0x5AEB, 0x630C, 0x5AEB, 0x5ACB, 0x528A,};
 
	int frameXCord=0;
	int frameYCord=0;
	int mapScale=16;								// One map pixel translates to mapScale^2 pixels on the screen
 	int screenWidth=128;						// one screen pixel is one screen pixel
	int screenHeight=160;
	int currentMap=1;

// 128 x 160 pixels to work with
void Screen_Update(void){
	Screen_Move();
	Screen_Draw();
}


void Screen_Move(void){
	int stepSize=mapScale;																								// amount of pixels to move the screen in one instance
	if(player.x - frameXCord < (screenWidth/4))								// check if player is in left 4th of screen
		if(frameXCord >= stepSize)																	// check for room to move
				frameXCord -=stepSize;
	if((player.x+player.width) - frameXCord > (3*screenWidth/4))// check if player is in right 4th of screen
		if(frameXCord <= (Map[currentMap].width*mapScale-screenWidth-stepSize))					// check for room to move
				frameXCord +=stepSize;
																																// amount of pixels to move the screen in one instance
	if((player.y-player.height)- frameYCord < (screenHeight/4))	// check if player is in top 4th of screen
		if(frameYCord >= stepSize)																	// check for room to move
				frameYCord -=stepSize;
	if(player.y - frameYCord > (3*screenHeight/4))							// check if player is in bottom 4th of screen
		if(frameYCord <= (Map[currentMap].height*mapScale-screenHeight-stepSize))				// check for room to move
				frameYCord +=stepSize;
}

void Screen_Draw(void){
	int yStep=159; // this is the distance from the bottom of the screen
	for(int y= Map[currentMap].height*mapScale-(screenHeight+frameYCord); y<(Map[currentMap].height*mapScale-(screenHeight+frameYCord)+screenHeight); y+=mapScale){
		for(int x=frameXCord; x-frameXCord<screenWidth; x+=mapScale){
			switch(Map[currentMap].array[(y/mapScale)*Map[currentMap].width+(x/mapScale)]){
				
				case 0x001F:
					ST7735_DrawBitmap(x-frameXCord, yStep, sand, mapScale, mapScale);		// These are for old maps
					break;
				case 0xFFFF:
					ST7735_DrawBitmap(x-frameXCord, yStep, wall, mapScale, mapScale);		// These are for old maps
					break;
				case 0x0000:
					ST7735_DrawBitmap(x-frameXCord, yStep, wall, mapScale, mapScale);		// Draw the new frame as a background
					break;
				case 0x220C:
					ST7735_DrawBitmap(x-frameXCord, yStep, dirt, mapScale, mapScale);		// Draw the new frame as a background
					break;
				case 0x8DBA:
					ST7735_DrawBitmap(x-frameXCord, yStep, sand, mapScale, mapScale);		// Draw the new frame as a background
					break;
				case 0xF800:
					ST7735_DrawBitmap(x-frameXCord, yStep, water, mapScale, mapScale);		// Draw the new frame as a background
					break;
				case 0x07E0:
					ST7735_DrawBitmap(x-frameXCord, yStep, grass, mapScale, mapScale);		// Draw the new frame as a background
					break;
				case 0xAD55:
					ST7735_DrawBitmap(x-frameXCord, yStep, stone, mapScale, mapScale);		// Draw the new frame as a background
					break;
			}
		}
		yStep-=mapScale;
	}
}
